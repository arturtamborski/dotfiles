---

- set_fact:
    context: "{{ lookup('vars', role_name, default={}) | combine({'role_name': role_name}) }}"


- name: main
  include_role:
    public: yes
    name: common
    tasks_from: main
  vars:
    given: "{{ context }}"


- name: create config path
  file:
    path: "{{ pre.config }}"
    state: directory


- name: create backup path
  file:
    path: "{{ pre.backup | dirname }}"
    state: directory
